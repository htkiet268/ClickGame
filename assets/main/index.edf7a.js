window.__require=function t(e,o,n){function i(c,a){if(!o[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var p=o[c]={exports:{}};e[c][0].call(p.exports,function(t){return i(e[c][1][t]||t)},p,p.exports,t,e,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AddCoinPrefab:[function(t,e,o){"use strict";cc._RF.push(e,"de2470Z7f5ICbwpR1NKqZ9X","AddCoinPrefab");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numOfCoin=1,e}return i(e,t),e.prototype.setNumOfCoin=function(t){this.numOfCoin=t,this.getComponent(cc.Label).string="+"+t},r([a],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],AnimationUtil:[function(t,e,o){"use strict";cc._RF.push(e,"b9f07HglCVHu6Xpteudoy2E","AnimationUtil");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.playDisappearAnimation=function(t,e){void 0===e&&(e=.5),cc.tween(t).to(e,{position:cc.v3(t.position.x,t.position.y+200,t.position.z),opacity:0}).call(function(){t.destroy()}).start()},e.playFadingAnimation=function(t,e){void 0===e&&(e=.3),cc.tween(t).to(e,{color:new cc.Color(216,187,187,255)}).call(function(){t.color=cc.Color.WHITE}).start()},e}(cc.Component);o.default=r,cc._RF.pop()},{}],CountdownCircle:[function(t,e,o){"use strict";cc._RF.push(e,"86b954mCX5GM7vEU/3EymMw","CountdownCircle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.duration=5,e.radius=50,e.color=cc.Color.GRAY,e.lineWidth=5,e.startTime=Date.now(),e.graphics=null,e}return i(e,t),e.prototype.startCountdown=function(){this.graphics=this.node.getComponent(cc.Graphics),this.graphics||(this.graphics=this.node.addComponent(cc.Graphics)),this.startTime=Date.now(),this.schedule(this.updateCircle,0)},e.prototype.updateCircle=function(){var t=(Date.now()-this.startTime)/1e3,e=this.duration-t;if(e<=0)return this.unschedule(this.updateCircle),void this.graphics.clear();var o=2*Math.PI*(1-e/this.duration);this.graphics.clear(),this.graphics.lineWidth=this.lineWidth,this.graphics.strokeColor=this.color,this.graphics.arc(0,0,this.radius,0,o,!1),this.graphics.stroke()},r([s],e.prototype,"duration",void 0),r([s],e.prototype,"radius",void 0),r([s],e.prototype,"color",void 0),r([s],e.prototype,"lineWidth",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],GlobalData:[function(t,e,o){"use strict";cc._RF.push(e,"783b0M+z9pIS7mdjnAIlajY","GlobalData"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this.totalGold=5e3,this.energy=5e3}return t.me=function(){return null==this.instance&&(this.instance=new t),this.instance},t.prototype.getTotalGold=function(){return this.totalGold},t.prototype.getEnergy=function(){return this.energy},t.prototype.setTotalGold=function(t){this.totalGold=t},t.prototype.setEnergy=function(t){this.energy=t},t.instance=null,t}();o.default=n,cc._RF.pop()},{}],LocalStorageUtil:[function(t,e,o){"use strict";cc._RF.push(e,"a35f3eFqq1O9r1dW08KfWTq","LocalStorageUtil");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.me=function(){return null==this.instance&&(this.instance=new e),this.instance},e.prototype.saveItem=function(t,e){cc.sys.localStorage.setItem(t,e)},e.prototype.getItem=function(t){return cc.sys.localStorage.getItem(t)},e.prototype.deleteItem=function(t){cc.sys.localStorage.removeItem(t)},e.instance=null,e}(cc.Component);o.default=r,cc._RF.pop()},{}],MainScene:[function(t,e,o){"use strict";cc._RF.push(e,"9f5d2gNXqRMEayHiesFjqkM","MainScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../Prefabs/AddCoinPrefab"),a=t("../Prefabs/Other/CountdownCircle"),s=t("../Utils/AnimationUtil"),l=t("../Utils/LocalStorageUtil"),p=cc._decorator,u=p.ccclass,f=p.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.totalCoinLabel=null,e.energyLabel=null,e.clickArea=null,e.addCoin=null,e.btnBoost=null,e.totalCoin=0,e.energy=0,e.isBoost=!1,e}return i(e,t),e.prototype.onLoad=function(){this.clickArea.on(cc.Node.EventType.TOUCH_START,this.onClickCoin,this),this.loadData()},e.prototype.loadData=function(){var t=l.default.me();this.setTotalCoin(t.getItem("totalCoin")>5e3?Number(t.getItem("totalCoin")):5e3),this.setEnergy(t.getItem("energy")>0?Number(t.getItem("energy")):5e3)},e.prototype.start=function(){this.updateEnergy()},e.prototype.updateEnergy=function(){var t=this;setInterval(function(){t.energy<5e3&&(t.setEnergy(t.energy+=1),l.default.me().saveItem("energy",t.energy))},1e3)},e.prototype.onClickCoin=function(t){s.default.playFadingAnimation(this.clickArea.getChildByName("Coin"),.1);var e=cc.instantiate(this.addCoin),o=this.clickArea.convertToNodeSpaceAR(t.getLocation());e.setPosition(o),this.clickArea.addChild(e),this.isBoost?(this.addNumOfCoin(3),e.getComponent(c.default).setNumOfCoin(3),s.default.playDisappearAnimation(e)):(this.addNumOfCoin(1),e.getComponent(c.default).setNumOfCoin(1),s.default.playDisappearAnimation(e))},e.prototype.addNumOfCoin=function(t){this.energy-=t,this.totalCoin+=t,this.setTotalCoin(this.totalCoin),this.setEnergy(this.energy),l.default.me().saveItem("totalCoin",this.totalCoin)},e.prototype.setTotalCoin=function(t){this.totalCoin=t,this.totalCoinLabel.string=t.toString()},e.prototype.setEnergy=function(t){this.energy=t,this.energyLabel.string=t.toString()},e.prototype.onClickBoost=function(){var t=this;this.isBoost=!0,this.btnBoost.getComponent(cc.Button).enabled=!1,this.btnBoost.opacity=150,this.clickArea.getComponent(a.default).startCountdown(),setTimeout(function(){t.isBoost=!1,t.btnBoost.getComponent(cc.Button).enabled=!0,t.btnBoost.opacity=255},5e3)},r([f(cc.Label)],e.prototype,"totalCoinLabel",void 0),r([f(cc.Label)],e.prototype,"energyLabel",void 0),r([f(cc.Node)],e.prototype,"clickArea",void 0),r([f(cc.Prefab)],e.prototype,"addCoin",void 0),r([f(cc.Node)],e.prototype,"btnBoost",void 0),r([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Prefabs/AddCoinPrefab":"AddCoinPrefab","../Prefabs/Other/CountdownCircle":"CountdownCircle","../Utils/AnimationUtil":"AnimationUtil","../Utils/LocalStorageUtil":"LocalStorageUtil"}]},{},["GlobalData","AddCoinPrefab","CountdownCircle","MainScene","AnimationUtil","LocalStorageUtil"]);